s390

include "fences.cat"
include "cos.cat"

(* Fundamental coherence ordering *)
let com = rf | co | fr
acyclic po-loc | com as coherence

(* Atomic *)
empty rmw & (fre;coe) as atom

(* Fences *)
let mb = [M] ; fencerel(Mb) ; [M]

(* TSO with multicopy atomicity (tso-mca) *)
let po-ghb = ([R] ; po ; [M]) | ([M] ; po ; [W])
acyclic mb | po-ghb | fr | rf | co as tso-mca
